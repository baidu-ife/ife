// Generated by CoffeeScript 1.7.0
(function() {
  var abstract_mapper, adapter_to_name, glob, indx, name_to_adapter, path, supports, _;

  path = require('path');

  glob = require('glob');

  _ = require('lodash');

  indx = require('indx');

  exports.supports = supports = function(name) {
    name = adapter_to_name(name);
    return !!glob.sync("" + (path.join(__dirname, 'adapters', name)) + ".*").length;
  };

  exports.load = function(name, custom_path, engineName) {
    name = adapter_to_name(name);
    return new (require(path.join(__dirname, 'adapters', name)))(engineName, custom_path);
  };

  exports.all = function() {
    return indx(path.join(__dirname, 'adapters'));
  };

  abstract_mapper = function(name, direction) {
    var name_maps, res;
    name_maps = [['markdown', 'marked'], ['minify-js', 'uglify-js'], ['minify-css', 'clean-css'], ['minify-html', 'html-minifier'], ['mustache', 'hogan.js'], ['scss', 'node-sass'], ['haml', 'hamljs'], ['escape-html', 'he']];
    res = null;
    name_maps.forEach(function(n) {
      if (direction === 'left' && n[0] === name) {
        res = n[1];
      }
      if (direction === 'right' && n[1] === name) {
        return res = n[0];
      }
    });
    return res || name;
  };

  name_to_adapter = function(name) {
    return abstract_mapper(name, 'left');
  };

  adapter_to_name = function(name) {
    return abstract_mapper(name, 'right');
  };

}).call(this);
